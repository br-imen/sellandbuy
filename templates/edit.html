{% extends "layout.html" %}

{% block title %}

    Edit product

{% endblock %}


{%  block main %}

    <form action="/edit?id={{id}}&name_product={{name}}&description={{description}}&price={{price}}&image={{image}}&categorie_id={{categorie_id}}" method="post" class="form" enctype="multipart/form-data">

        <div class="form-group">
        <input type="text" class="form-control" name="product" id="product" value="{{name_product}}">
        </div>

        <div class="form-group">
        <select class="form-control" id="categorie" name="categorie">

            {% for categorie in categories %}

                 {% if categorie.id ==  categorie_id %}

                        <option selected >{{categorie.name}}</option>

                 {% else %}

                        <option>{{categorie.name}}</option>

                 {%endif%}


            {% endfor%}

        </select>
        </div>

        <div class="form-group">
        <label for="file">Upload product's image</label>
        <input type="file" class="form-control-file" id="file" name="file">
        </div>

        <div class="form-group">
        <textarea class="form-control" id="description" name="description" rows="3" maxlength="300" value="{{description}}">{{description}}</textarea>
        </div>

        <div class="input-group">
        <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)" value="{{ '%0.2f' | format( price / 100) }}" id="price" name="price">
        <div class="input-group-append">
            <span class="input-group-text">$</span>
        </div>
        </div>

        <div class="form-group">
        <button class="btn btn-primary" type="submit">Update</button>
        </div>

    </form>

    <small class="text-muted"> <a href="/my-products" class="btn btn-outline-primary" style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;"> Cancel </a> </small>

{% endblock %}
